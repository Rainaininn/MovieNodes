{"ast":null,"code":"var _jsxFileName = \"/Users/rainwang/Desktop/UCSB/CS185/PersonalWebReact/src/components/Contact.js\";\nimport React, { Component, useEffect, useState } from 'react';\nimport './Contact.css';\nimport config from './config.js';\nimport Form from './Form';\n\nconst firebase = require('firebase');\n\nfunction Contact(props) {\n  // var messages = []\n  const [messages, setMessage] = useState([]); // const [state, setData] = useState([])\n\n  const [shouldRender, setShouldRender] = useState(true); // const sample = [\"hi\", \"how are you\"]\n\n  useEffect(() => {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config);\n    }\n\n    let ref = firebase.database().ref('data2');\n    ref.on('value', snapshot => {\n      //this is your call back function\n      //state will be a JSON object after this\n      //set your apps state to contain this data however you like\n      const m2 = snapshot.val(); //since i use react 16, i set my state like this\n      //i have previously declared a state variable like this: const [data, setData] = useState([]) so that I can make the below call\n      // setData(state)\n\n      let newState = [];\n\n      for (let m1 in m2) {\n        newState.push({\n          name: m2[m1].name,\n          description: m2[m1].description,\n          message: m2[m1].message,\n          pubview: m2[m1].pubview,\n          email: m2[m1].email,\n          time: m2[m1].time\n        });\n      }\n\n      setMessage(newState); // console.log(\"Inside display2: \", newState);\n    });\n  }, [shouldRender]);\n\n  function displayMessage() {\n    // console.log(\"Inside display1: \", messages);\n    const content = messages.map((post, index) => {\n      if (post.pubview === \"public\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          className: \"post\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 9\n          }\n        }, post.name), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"description\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 9\n          }\n        }, post.description), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 9\n          }\n        }, post.message), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 9\n          }\n        }, post.time));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 14\n          }\n        });\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"postSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, \"Footprint History\"), content);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"white-space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"horizontal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left-side\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 36\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-side\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, displayMessage())));\n}\n\nexport default Contact;","map":{"version":3,"sources":["/Users/rainwang/Desktop/UCSB/CS185/PersonalWebReact/src/components/Contact.js"],"names":["React","Component","useEffect","useState","config","Form","firebase","require","Contact","props","messages","setMessage","shouldRender","setShouldRender","apps","length","initializeApp","ref","database","on","snapshot","m2","val","newState","m1","push","name","description","message","pubview","email","time","displayMessage","content","map","post","index"],"mappings":"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","sourcesContent":["import React, {Component, useEffect, useState} from 'react';\nimport './Contact.css'\nimport config from './config.js'\nimport Form from './Form'\nconst firebase = require('firebase')\n\nfunction Contact(props){\n  // var messages = []\n  const [messages, setMessage] = useState([]);\n  // const [state, setData] = useState([])\n  const [shouldRender, setShouldRender] = useState(true)\n  // const sample = [\"hi\", \"how are you\"]\n\n  useEffect(() => {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config)\n    } \n    let ref = firebase.database().ref('data2')\n\n    ref.on('value', snapshot => {\n      //this is your call back function\n      //state will be a JSON object after this\n      //set your apps state to contain this data however you like\n      const m2 = snapshot.val()\n      //since i use react 16, i set my state like this\n      //i have previously declared a state variable like this: const [data, setData] = useState([]) so that I can make the below call\n      // setData(state)\n      let newState = [];\n      for(let m1 in m2){\n        newState.push({\n          name: m2[m1].name,\n          description: m2[m1].description,\n          message: m2[m1].message,\n          pubview: m2[m1].pubview,\n          email: m2[m1].email,\n          time: m2[m1].time,\n        });\n      }\n      setMessage(newState);\n      // console.log(\"Inside display2: \", newState);\n    })\n  }, [shouldRender])\n\n  function displayMessage() {\n    // console.log(\"Inside display1: \", messages);\n    const content = messages.map((post, index) => {\n    if(post.pubview === \"public\"){\n      return <div key={index} className=\"post\">\n        <h3>{post.name}</h3>\n        <div className=\"description\">{post.description}</div>\n        <p>{post.message}</p>\n        <p>{post.time}</p>\n      </div>\n    }\n    else{\n      return <div></div>\n    }\n      \n    });\n    return (\n      <div className=\"postSection\">\n        <div className=\"header\">Footprint History</div>\n        {content}\n      </div>\n    );\n  }\n\n  return(\n    <div className=\"background\">\n      <div className=\"white-space\"></div>\n      <div className=\"horizontal\">\n        <div className=\"left-side\"><Form /></div>\n        <div className=\"right-side\">\n          {displayMessage()}\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default Contact;\n"]},"metadata":{},"sourceType":"module"}